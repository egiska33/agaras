<template>
    <div id='docContainer'>
        <div id='innerDocContainer'>
            <table class="no-border">
        		<tr>
        			<td><h2>GYVULIŲ PIRKIMO — PARDAVIMO SUTARTIS&nbsp;&nbsp;</h2></td>
        		</tr>
                <tr height="20px">
        			<td><strong><small>Serija</small> <span class='ppSeries'></span> Nr. <span class='ppNo'></span></strong></td>
        		</tr>
        		<tr>
        			<td><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        	</table>
        	<p class='field_1_2'></p>
        	<ol class="level-1">
        		<li>
        			<span>1. SUTARTIES OBJEKTAS</span>
        			<p>
        				Pardavėjas įsipareigoja patiekti Pirkėjui gyvulius, kurių kokybė atitinka galiojančius standartus, technines sąlygas bei
        				veterinarinius reikalavimus, o Pirkėjas įsipareigoja nupirkti gyvulius ir sumokėti už jų skerdenos svorį pagal bazines
        				skerdienos kainas.
        			</p>
        		</li>
        		<li>
        			<span>2. ŠALIŲ ĮSIPAREIGOJIMAI</span>
        			<ol>
        				<li>
        					<span>2.1. Pardavėjas įsipareigoja:</span>
        					<ol>
        						<li>2.1.1. Sutartu laiku paruošti gyvulius pardavimui laikantis teises aktų, reglamentuojančių gyvulių pirkimo -pardavimo tvarką.</li>
        						<li>2.1.2. Neparduoti gyvulių šertų pašarais ir pašariniais priedais, kurie blogiua skerdenos kokybę.</li>
        						<li>2.1.3. Pateikti tikslius duomenis apie ūkio registravimą, asmens duomenis ir banko sąskaitą.</li>
        						<li>2.1.4. Garantuoti gyvulio amžiaus ir identifikavimo numerio tikslumą.</li>
        					</ol>
        				</li>
        				<li>
        					<span>2.2. Pirkėjas įsipareigoja:</span>
        					<ol>
        						<li>2.2.1. Nupirkti gyvulius laikantis teisės aktų, reglamentuojančių gyvulių pirkimo - pardavimo tvarką, reikalavimų.</li>
        						<li>2.2.2.
        							Mokėti už gyvulius pagal vertintų skerdenų svorius ir kokybę šias bazines (R raumeningumo ir 3 riebumo klasės) kainas:<br />
        							<b>Bulių</b> <span class='field_3 normalFontWeight'></span> EUR/kg; <b>Telyčių</b> <span class='field_4 normalFontWeight'></span> EUR/kg; <b>Karvių</b> <span class='field_5 normalFontWeight'></span> EUR/kg.<br/>
        							Visa galvijų skerdenų kainų lentelė pateikiama priede prie šios gyvulių pirkimo - pardavimo sutarties.
        						</li>
        						<li>2.2.3. Atsiskaityti su Pardavėju mokėjimo pavedimu pervedant pinigus į Pardavėjo nurodytą bankinę sąskaitą per 15 darbo dienų.</li>
        						<li>2.2.4.
        							Pirkdamas gyvulius pagal skerdenų svorį ir kokybę, ne vėliau kaip per 2 darbo dienas po gyvulio paskerdimo ir
        							jo skerdenos įvertinimo, išrašyti PVM sąskaitą - faktūrą ar sąskaitą faktūrą.
        						</li>
        						<li>2.2.5.
        							Galvijus skerdžiant, Pirkėjas patikrina visus kitus galvijų atitikimui keliamus reikalavimus, kurių nebuvo
        							galima patikrinti galvijus priimant ir nustato galvijų skerdenos svorį. Pirkėjas nustatęs neatitikimus per 24 valandas
        							apie tai informuoja Pardavėją, ir ne vėliau kaip kitą dieną po pranešimo gavinio, šalys surašo neatitikimų aktą
        							nurodydami savo pastabas. Pardavėjui nustatytu terminu nepasirašius neatitikimų akto, laikoma, kad Pirkėjo nurodyti
        							neatitikimai yra pagrįsti ir teisingi. Pardavėjas turi teisę per 24 valandas patikrinti neatitikimų faktą.
        						</li>
        						<li>2.2.6.
        							Nustačius 2.2.5 punkte nurodytus neatitikimus, Pirkėjas turi teisę sumažinti neatitinkančių reikalavimų galvijų
        							kainą. Jeigu neatitinkančio reikalavimų paskersto galvijo Pardavėjas nesutinka su Pirkėjo kainos sumažinimu, tai
        							Pirkėjas grąžina Pardavėjui galvijo skerdeną ir už tą galviją nemoka. Tokiu atveju Pardavėjas apmoka Pirkėjui už
        							gyvulio transportavimą ir skerdimą.
        						</li>
        					</ol>
        				</li>
        			</ol>
        		</li>
        		<li>
        			<span>3. ŠALIŲ TURTINĖ ATSAKOMYBĖ</span>
        			<ol>
        				<li>3.1
        					Pardavėjas ir Pirkėjas atleidžiami nuo atsakomybės, jei įsipareigojimų neįvykdė dėl nenugalimos jėgos: karo,
        					stichinės nelaimės, boikotų, streikų, teisėtų ar neteisėtų valstybės valdymo institucijų veiksmų, gyvulių susirgimo,
        					kritimo ir kt., kaip tai numatyta teisės aktuose.
        				</li>
        			</ol>
        		</li>
        		<li>
        			<span>4. KITOS SUTARTIES SĄLYGOS</span>
        			<ol>
        				<li>4.1. Sutartis įsigalioja nuo jos pasirašymo datos ir galioja iki atsiskaitymo su Pardavėju.</li>
        				<li>4.2. Sutartis sudaroma dviem egzemplioriais, turinčiais vienodą juridinę galią, po vieną kiekvienai sutarties šaliai.</li>
        				<li>4.3. Informacija apie skerdienų įvertinimo rezultatus teikiama telefonu 8-450- 59339.</li>
        			</ol>
        		</li>
        		<li><span>5. ŠALIŲ REKVIZITAI:</span></li>
        	</ol>
        	<table class="no-border requisites-table">
        		<tr>
        			<th width="60%">Pardavėjas:</th>
        			<th width="40%">Pirkėjas:</th>
        		</tr>
        		<tr>
        			<td>Vardas, pavardė/įmonė: <span class='field_6'></span></td>
        			<td>UAB "Agaras"</td>
        		</tr>
        		<tr>
        			<td>Asmens/Įmonės kodas: <span class='field_7'></span></td>
        			<td>Balandiškių k. Pabiržės sen. Biržų r. LT-41385</td>
        		</tr>
        		<tr>
        			<td>PVM Kodas: <span class='field_8'></span></td>
        			<td>Įmonės kodas: 154742821</td>
        		</tr>
        		<tr>
        			<td>Paso numeris <span class='field_9'></span> išduotas <span class='field_10'></span></td>
        			<td>Tel. 8-450-59118, faks. 8-450-43112</td>
        		</tr>
        		<tr>
        			<td>Bankas <span class='field_11'></span></td>
        			<td>A/s LT467044060002446386</td>
        		</tr>
        		<tr>
        			<td>A/s <span class='field_12'></span></td>
        			<td>Įmonės atstovas <span class='field_13'></span></td>
        		</tr>
        		<tr>
        			<td>Telefonas, faksas: <span class='field_14'></span> </td>
        			<td></td>
        		</tr>
        		<tr height="50px">
        			<td class="text-center signature">
        				<span>(parašas)</span>
        			</td>
        			<td class="text-center signature">
        				<span>(parašas)</span>
        			</td>
        		</tr>
        	</table>
        </div>
    </div>
</template>

<script>
    import mixins from "../../../mixins.js";

    export default {
        mounted: function()
        {
            var _ = this;

            _.getDocuments();
        },

        data: function()
        {
            return {
                todaySellers: [],
                totalElementsToPrint: 0,
                docImgs: [],
                pivot: {}
            };
        },

        methods:
        {
            getDocuments: function()
            {
                var _ = this;
                var targetId = getIdFromURL();

                return offlineDB.find('docsPivot', targetId, 'pp_id').then((pivot) => {
                    _.pivot = pivot;

                    var p = 1;

                    offlineDB.find('doc_PP', targetId, 'id').then((doc_PP) => {
                        _.doc_PP = doc_PP;

                        _.fillDocumentData();
                        mixins.getTotalElementsToPrint(_);
                        mixins.snapScreen(_);
                    });
                });
            },

            fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                $(".ppSeries").text(_.doc_PP.serial);
                $(".ppNo").text(_.doc_PP.no);

                var sellerRepresentative = '________________________________________';
                if(_.pivot.seller_representative) sellerRepresentative = _.pivot.seller_representative;
                $(".sellerRepresentative").text(sellerRepresentative)

                var field_1 = "_______________________________________________";
                if(_.pivot.seller_name) field_1 = _.pivot.seller_name;
                // $(".field_1").text(field_1);

                var field_2 = "_______________________________________________";
                if(_.pivot.user_name) field_2 = _.pivot.user_name
                // $(".field_2").text(field_2);

                $(".field_1_2").text(field_1+', toliau vadinama "Pardavėju" atstovaujama '+sellerRepresentative+' ir UAB "Agaras", toliau vadinama "Pirkėju", pagal įgaliojimą atstovaujama '+field_2+', sudarėme šią sutartį:');


                var field_3 = "_____________";
                if(_.doc_PP.bull_price) field_3 = _.doc_PP.bull_price
                $(".field_3").text(field_3);

                var field_4 = "_____________";
                if(_.doc_PP.heifer_price) field_4 = _.doc_PP.heifer_price
                $(".field_4").text(field_4);

                var field_5 = "_____________";
                if(_.doc_PP.cow_price) field_5 = _.doc_PP.cow_price
                $(".field_5").text(field_5);

                $(".field_6").text(_.pivot.seller_name);
                $(".field_7").text(_.pivot.seller_code);

                if(_.pivot.seller_pvm_code) $(".field_8").text(_.pivot.seller_pvm_code);
                else $(".field_8").text("Ne PVM mokėtojas");

                var field_9 = '___________';
                if(_.pivot.seller_pass_series_number) field_9 = _.pivot.seller_pass_series_number;
                $(".field_9").text(field_9);

                var field_10 = '_____________';
                if(_.pivot.seller_pass_issued_date) field_10 = _.pivot.seller_pass_issued_date;
                $(".field_10").text(field_10);

                var field_11 = '_________________________________________';
                if(_.pivot.seller_bank) field_11 = _.pivot.seller_bank;
                $(".field_11").text(field_11);

                var field_12 = '_____________________________________________';
                if(_.pivot.seller_bank_pay_account_number) field_12 = _.pivot.seller_bank_pay_account_number;
                $(".field_12").text(field_12);

                var field_13 = '_________________________________';
                if(_.pivot.user_name) field_13 = _.pivot.user_name;
                $(".field_13").text(field_13);

                var field14Arr = [];
                if(_.pivot.seller_phone) field14Arr.push("+3706"+_.pivot.seller_phone);
                if(_.pivot.seller_fax) field14Arr.push(_.pivot.seller_fax);
                $(".field_14").text(field14Arr.join(', '));
            }
        }
    }
</script>
