<template>
    <div id='docContainer'>
        <div id='innerDocContainer'>


            <span class='print_VG'></span>


            <table class="no-border">
                <tbody>
            		<tr>
            			<td></td>
            			<td class="font-5 text-right newRoman" width="100%">
            				<span>Forma patvirtinta Valstybinės maisto ir veterinarijos tarnybos direktoriaus 2006 m. kovo 16 d. įsakymu Nr. B1-207<br />
            				(Valstybinės maisto ir veterinarijos tarnybos direktoriaus 2015 m. gegužės 19 d. įsakymo Nr. B1-433 redakcija)</span>
            			</td>
            		</tr>
                </tbody>
        	</table>
        	<table class="no-border">
        		<tr>
        			<td><h2>LIETUVOS RESPUBLIKOJE VEŽAMŲ GYVŪNŲ VAŽTARAŠTIS</h2></td>
        		</tr>
        		<tr>
        			<td><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Gyvūnų laikytojas</td>
        			<td class="solid-line VG_field_1" width="80%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(vardas, pavardė / įmonės pavadinimas, kodas, veterinarinio patvirtinimo Nr.*)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Gyvūnų laikytojo adresas</td>
        			<td class="solid-line VG_field_2" width="77%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(rajonas, savivaldybė, seniūnija, vietovė, gatvė, namo numeris)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left" width='100%'>
        		<tr>
        			<td width='110px'>Gyvūnų laikymo vieta</td>
                    <td class="solid-line VG_field_3"><span class='heldNo' style='width: 50%;display:inline-block'></span><span class='bandNo' style='width: 50%;display:inline-block'></span></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-right">
        				<span class="text-below margin-right"><span>(laikymo vietos numeris*)</span></span>
        				<span class="text-below margin-right"><span>(bandos numeris*)</span></span>
        			</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left" width='100%'>
        		<tr>
        			<td width='170px'><span>Gyvūnų laikymo vietos adresas**</span></td>
        			<td class="solid-line VG_field_4"></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Gyvūnų vežėjas: UAB &quot;Agaras&quot;, 154742821, 36-LT90-402.</td>
        			<td class="solid-line VG_field_5" width="55%"></td>
        		</tr>
        		<tr>
        			<td></td>
        			<td class="text-center text-below"><span>(valst. nr., priekabos nr.)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Paskirties vieta: UAB &quot;Agaras&quot;, Agaro g. 5, Balandiškių k. Pabiržės sen., Biržų r. LT-41385, Lietuva.</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Planuojama kelionė trukmė (val.):</td>
        			<td class="solid-line VG_field_6" width="16%"></td>
        			<td>Išvykimo data ir laikas:</td>
        			<td class="solid-line VG_field_7" width="32%"></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Planuojama atvykimo į paskirties vietą data ir laikas:</td>
        			<td class="solid-line VG_field_8" width="32%"></td>
        			<td>Gyvūnų rūšis</td>
        			<td class="solid-line VG_field_9" width="15%">Galvijai</td>
        		</tr>
        	</table>
        	<table class="no-outer-border margin-10 hugeTable">
                <thead>
            		<tr>
            			<td rowspan="2">Eil. Nr.</td>
            			<td colspan="6">Gyvūno</td>
            		</tr>
            		<tr>
            			<td>individualaus ženklinimo<br /> Nr.*/bandos Nr.*</td>
            			<td>paso Nr.*</td>
            			<td>lytis</td>
            			<td>veislė</td>
            			<td>gimimo šalis, data</td>
            			<td>užauginimo vieta<br /> (nurodyti šalies pavadinimą)***</td>
            		</tr>
                </thead>
                <tbody class='VG_animalsTbody'></tbody>
        	</table>
        	<p class="no-margin">
        		Gyvunų skaičius/kiekis <span class='totalAnimals' ></span> vnt. / <span class='totalAnimalWeight'></span> kg
        	</p>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Aš,</td>
        			<td class="solid-line VG_field_10" width="45%"></td>
        			<td width="55%">, p a t v i r t i n u, kad:</td>
        		</tr>
        		<tr>
        			<td></td>
        			<td class="text-center text-below"><span>(gyvūnų laikytojo vardas, pavardė / įmonei atstovaujančio asmens vardas ir pavardė)</span></td>
        			<td></td>
        		</tr>
        	</table>
            <ol><li>1. Gyvūnų laikymo vietoje išvežamiems gyvūnams netaikomi / <span class='crossout'>taikomi</span> (nereikalingą žodį išbraukti) pagal
                    <span></span>
                    apribojimai dėl gyvūnų užkrečiamųjų ligų;</li></ol>
            <ol><li>2. Arklinių šeimos gyvūnai neturėjo sąlyčio su arklinių šeimos gyvūnais, sergančiais užkrečiamąja liga, ne mažiau kaip 15 d.;</li></ol>
            <ol><li>3. Arklinių šeimos gyvūnai nebuvo / buvo (nereikalingą žodį išbraukti) gydomi paskutinius 6 mėnesius vadovaujantis 2006 m. gruodžio
                    13 d. Komisijos reglamentu (EB) Nr. 1950/2006, nustatančiu arklinių šeimos gyvūnams gydyti būtinų medžiagų sąrašą pagal Europos Parlamento ir
                    Tarybos direktyvą 2001/82/EB dėl Bendrijos kodekso, reglamentuojančio veterinarinius vaistus (OL 2006 L 367, p. 33), su paskutiniais pakeitimais,
                    padarytais 2013 m. vasario 12 d. Komisijos reglamentu (ES) Nr. 122/2013 (OL 2013 L 42, p. 1);</li></ol>
            <ol><li>4. Gyvūnams nebuvo naudojami augimo stimuliatoriai;</li></ol>
            <ol><li>5. Paskutinius 2 mėnesius gyvūnams gydyti buvo naudojamas (-ami) veterinarinis (-iai) vaistas (-ai)
                    <span class="solid-line" style="width: 45%; height: 13px; display: inline-block;">nenaudoti</span>
                    , kurio (-ių) išlauka pasibaigė <span class="solid-line" style="width: 30%; height: 10px; display: inline-block;"></span></li></ol>
            <ol><li>6. Minėti gyvūnai tinkami vežti nustatytu maršrutu laikantis 2004 m. gruodžio 22 d. Tarybos reglamento (EB) Nr. 1/2005 dėl gyvūnų
                    apsaugos juos vežant ir atliekant susijusias operacijas, ir iš dalies keičiančio direktyvas 64/432/EEB ir 93/119/EB ir reglamentą (EB) Nr. 1255/97 (OL
                    2005 L 3, p. 1), reikalavimų.</li></ol>
            <ol><li>7. Šis važtaraštis surašytas 2 (dviem) egzemplioriais, iš kurių vienas duodamas gyvūnų laikytojui, kitas – transporto priemonės vairuotojui,
                    kuris jį palieka paskirties vietoje.</li></ol>
            <table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Gyvūnų laikytojas / įmonei atstovaujantis asmuo</td>
        			<td class="solid-line VG_field_11" width="60%"></td>
        		</tr>
        		<tr>
        			<td></td>
        			<td class="text-center text-below"><span>(parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Transporto priemonės vairuotojas</td>
        			<td class="solid-line VG_field_12" width="70%"></td>
        		</tr>
        		<tr>
        			<td></td>
        			<td class="text-center text-below"><span>(parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>
            <p >* – jei suteiktas;</p>
            <p >** – nurodoma, jei gyvūnų laikymo vieta nėra registruota Ūkinių gyvūnų registre;</p>
            <p >
                *** – nurodoma tik vežant kiaules, avis, ožkas ir naminius paukščius. Gyvūno užauginimo vieta nurodoma vadovaujantis 2013 m. gruodžio 13 d. Komisijos įgyvendinimo reglamento (ES) Nr. 1337/2013,
                kuriuo nustatomos Europos Parlamento ir Tarybos reglamento (ES) Nr. 1169/2011 taikymo taisyklės, susijusios su šviežios, atšaldytos ir užšaldytos kiaulienos, avienos, ožkienos ir paukštienos kilmės
                šalies arba kilmės vietos nuorodomis (OL 2013 L 335, p. 19), 5 straipsniu
            </p>

            <span class='print_VG_stop'></span>
            <span class='newPage'></span>
            <span class='print_SF_vat'></span>

            <table class="no-border">
        		<tr height="50px">
        			<td><h1>PVM SĄSKAITA FAKTŪRA</h1></td>
        		</tr>
        		<tr height="20px">
        			<td><strong><small>Serija</small> <span class='sfvatSeries'></span> Nr. <span class='sfvatNo'></span></strong></td>
        		</tr>
        		<tr>
        			<td height="30px"><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8">
        				<strong>Pirkėjas: UAB &quot;Agaras&quot;, Agaro g. 5, Balandiškių k. Pabiržės sen., Biržų r. LT-41385, Lietuva.</strong>
        			</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8"><strong>Tel. (8-450) 43111, (8-450) 59339, faks. (8-450) 43112</strong> Įmonės kodas <strong>154742821</strong> PVM mokėtojo kodas <strong>LT547428219</strong></td>
        		</tr>
        	</table>
            <table class="no-border no-collapse table-text-left margin-10">
                <tr>
                    <td>Pardavėjas</td>
                    <td class="solid-line SF_vat_field_1" width="91%"></td>
                </tr>
                <tr>
                    <td colspan="2"	class="text-center text-below"><span>(juridinio asmens pavadinimas arba fizinio asmens vardas, pavardė, adresas, tel., faks., el. pašto adresas)</span></td>
                </tr>
            </table>
            <p>
                Asmens/Įmonės kodas <span class='SF_vat_field_2'></span> PVM mokėtojo kodas <span class='SF_vat_field_3'></span>
            </p>
            <p>
                Paso numeris <span class='SF_vat_field_4'></span> Pasas išduotas <span class='SF_vat_field_5'></span>
            </p>
            <p>
                Banko pavadinimas <span class='SF_vat_field_6'></span> Atsiskaitomosios sąskaitos Nr. <span class='SF_vat_field_7'></span>
            </p>
            <p>
                Ūkininko pažymėjimo Nr. <span class='SF_vat_field_8'></span> Vairuotojas <span class='SF_vat_field_9'></span> Automobilio Nr. <span class='SF_vat_field_10'></span>
            </p>
            <p>
                Pakrovimo vieta <span class='SF_vat_field_11'></span> Pakrovimo data: <span class='SF_vat_field_12'></span>
            </p>
            <p class="no-margin">
                „Pirkėjas“ perka, o „Pardavėjas“ parduoda sekančius gyvulius:
            </p>

        	<table class="no-outer-border hugeTable">
                <thead>
            		<tr>
            			<td rowspan="2" width='115px'>Gyvulio identifikavimo Nr.</td>
            			<td colspan="6">Pirkta gyvulių</td>
            			<td colspan="5">Skerdenų</td>
            			<td rowspan="2">Suma, EUR</td>
            		</tr>
            		<tr>
                        <td>Amžius mėn.</td>
            			<td>Galvų skaičius</td>
            			<td>Įmi-<br />timo katego-<br />rija</td>
            			<td>Gyvasis svoris, kg</td>
            			<td>Įskai-<br />toma gyvojo svorio, kg</td>
            			<td>Gyvojo<br /> svorio<br /> kaina,<br /> EUR/kg</td>
            			<td>Katego-<br />rija</td>
            			<td>Raumenin-<br />gumo klasė</td>
            			<td>Riebu-<br />mo klasė</td>
            			<td>Įskaitinė skerdenos masė, kg</td>
            			<td>Skerdenos kaina, EUR/100kg</td>
            		</tr>
                </thead>

                <tbody class='SF_vat_animalsTbody'></tbody>

        		<tr class="table-text-left">
        			<td colspan="5" class="no-border">Turi būti sumokėta gyvulio pardavėjui be PVM</td>
        			<td colspan="7" class="no-border solid-line"></td>
        			<td class='SF_vat_field_18 text-center'></td>
        		</tr>
        		<tr class="table-text-left">
        			<td colspan="2" class="no-border">PVM tarifas 21 proc.</td>
        			<td colspan="10" class="no-border solid-line"></td>
        			<td class='SF_vat_field_19 text-center'></td>
        		</tr>
        		<tr class="table-text-left">
        			<td colspan="4" class="no-border">Kompensacinis PVM tarifas 6 proc.</td>
        			<td colspan="8" class="no-border solid-line text-right"></td>
        			<td class='SF_vat_field_20 text-center'></td>
        		</tr>
        		<tr class="table-text-left" height="30px">
        			<td colspan="3" class="no-border">Iš viso turi būti sumokėta PVM</td>
        			<td colspan="9" class="no-border solid-line SF_vat_field_21"></td>
        			<td class='SF_vat_field_22 text-center'></td>
        		</tr>
        		<tr>
        			<td colspan="4" class="no-border"></td>
        			<td colspan="8"	class="no-border text-center text-below"><span>(suma žodžiais)</span></td>
        			<td class="no-border"></td>
        		</tr>
        		<tr>
        			<td colspan="13" class="no-border solid-line" height="15px"></td>
        		</tr>
        	</table>
            <p>
                Informacija apie gyvulio skerdenos klasifikavimo rezultatus bus išsiųsta šiuo<br />
                mobilaus telefono nr. <span class='SF_vat_field_15'></span> Smulkesnė informacija teikiama telefonu 8-450 43111.
            </p>
            <table class="no-border no-collapse table-text-left">
                <tr>
                    <td>Įmonės vadovo įgaliotas asmuo</td>
                    <td class="solid-line SF_vat_field_16" width="75%"></td>
                </tr>
                <tr>
                    <td colspan="2"	class="text-center text-below">(parašas, vardas, pavardė ir pareigos)</td>
                </tr>
            </table>
            <table class="no-border no-collapse table-text-left margin-10">
                <tr>
                    <td>Pardavėjas</td>
                    <td class="solid-line SF_vat_field_17" width="90%"></td>
                </tr>
                <tr>
                    <td colspan="2"	class="text-center text-below"><span>(parašas, vardas, pavardė ir pareigos)</span></td>
                </tr>
            </table>
        	<p>
        		PVM įstatymo nuoroda “Sąskaitų faktūrų išsirašymas”. Deklaruoju, kad gyvuliai gimę ir užauginti Lietuvoje
        	</p>

            <span class='print_SF_vat_stop'></span>
            <span class='newPage'></span>
            <span class='print_SF'></span>

            <table class="no-border">
        		<tr height="50px">
        			<td><h1>SĄSKAITA FAKTŪRA</h1> <span class='sfSeries'></span>-<span class='sfNo'></span> </td>
        		</tr>
        		<tr>
        			<td height="30px"><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8">
        				<strong>Pirkėjas: UAB &quot;Agaras&quot;, Agaro g. 5, Balandiškių k. Pabiržės sen., Biržų r. LT-41385, Lietuva.</strong>
        			</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8"><strong>Tel. (8-450) 43111, (8-450) 59339, faks. (8-450) 43112</strong> Įmonės kodas <strong>154742821</strong> PVM mokėtojo kodas <strong>LT547428219</strong></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Pardavėjas</td>
        			<td class="solid-line SF_field_1" width="91%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(juridinio asmens pavadinimas arba fizinio asmens vardas, pavardė, adresas, tel., faks., el. pašto adresas)</span></td>
        		</tr>
        	</table>
        	<p>
        		Asmens/Įmonės kodas <span class='SF_field_2'></span> PVM mokėtojo kodas Ne PVM mokėtojas
        	</p>
        	<p>
        		Paso numeris <span class='SF_field_4'></span> Pasas išduotas <span class='SF_field_5'></span>
        	</p>
        	<p>
        		Banko pavadinimas <span class='SF_field_6'></span> Atsiskaitomosios sąskaitos Nr. <span class='SF_field_7'></span>
        	</p>
        	<p>
        		Ūkininko pažymėjimo Nr. <span class='SF_field_8'></span> Vairuotojas <span class='SF_field_9'></span> Automobilio Nr. <span class='SF_field_10'></span>
        	</p>
        	<p>
        		Pakrovimo vieta <span class='SF_field_11'></span> Pakrovimo data: <span class='SF_field_12'></span>
        	</p>
        	<p class="no-margin">
        		„Pirkėjas“ perka, o „Pardavėjas“ parduoda sekančius gyvulius:
        	</p>
        	<table class="no-outer-border hugeTable">
                <thead>
            		<tr>
            			<td rowspan="2" width='115px'>Gyvulio identifikavimo Nr.</td>
            			<td colspan="6">Pirkta gyvulių</td>
            			<td colspan="5">Skerdenų</td>
            			<td rowspan="2">Suma, EUR</td>
            		</tr>
            		<tr>
                        <td>Amžius mėn.</td>
            			<td>Galvų skaičius</td>
            			<td>Įmi-<br />timo katego-<br />rija</td>
            			<td>Gyvasis svoris, kg</td>
            			<td>Įskai-<br />toma gyvojo svorio, kg</td>
            			<td>Gyvojo<br /> svorio<br /> kaina,<br /> EUR/kg</td>
            			<td>Katego-<br />rija</td>
            			<td>Raumenin-<br />gumo klasė</td>
            			<td>Riebu-<br />mo klasė</td>
            			<td>Įskaitinė skerdenos masė, kg</td>
            			<td>Skerdenos kaina, EUR/100kg</td>
            		</tr>
                </thead>
                <tbody class='SF_animalsTbody'></tbody>
                <tr class="table-text-left">
        			<td colspan="5" class="no-border">Turi būti sumokėta gyvulio pardavėjui be PVM</td>
        			<td colspan="7" class="no-border solid-line"></td>
        			<td class='SF_field_18 text-center'></td>
        		</tr>
                <tr class="table-text-left">
                    <td colspan="4" class="no-border">Kompensacinis PVM tarifas 6 proc.</td>
                    <td colspan="8" class="no-border solid-line text-right"></td>
                    <td class='SF_field_20 text-center'></td>
                </tr>
        		<tr class="table-text-left" height="30px">
        			<td colspan="3" class="no-border">Iš viso turi būti sumokėta</td>
        			<td colspan="9" class="no-border solid-line SF_field_13"></td>
        			<td class='SF_field_14'></td>
        		</tr>
        		<tr>
        			<td colspan="3" class="no-border"></td>
        			<td colspan="9"	class="no-border text-center text-below">(suma žodžiais)</td>
        			<td class="no-border"></td>
        		</tr>
        		<tr>
        			<td colspan="13" class="no-border solid-line" height="15px"></td>
        		</tr>
        	</table>
        	<p>
        		Informacija apie gyvulio skerdenos klasifikavimo rezultatus bus išsiųsta šiuo<br />
        		mobilaus telefono nr. <span class='SF_field_15'></span> Smulkesnė informacija teikiama telefonu 8-450 43111.
        	</p>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Įmonės vadovo įgaliotas asmuo</td>
        			<td class="solid-line SF_field_16" width="75%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(parašas, vardas, pavardė ir pareigos)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Pardavėjas</td>
        			<td class="solid-line SF_field_17" width="90%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(parašas, vardas, pavardė ir pareigos)</span></td>
        		</tr>
        	</table>
        	<p>
        		Deklaruoju, kad gyvuliai gimę ir užauginti Lietuvoje
        	</p>

            <span class='print_SF_stop'></span>
            <span class='newPage'></span>
            <span class='print_PP'></span>

            <table class="no-border">
        		<tr>
        			<td><h2>GYVULIŲ PIRKIMO — PARDAVIMO SUTARTIS&nbsp;&nbsp;</h2></td>
        		</tr>
                <tr height="20px">
        			<td><strong><small>Serija</small> <span class='ppSeries'></span> Nr. <span class='ppNo'></span></strong></td>
        		</tr>
        		<tr>
        			<td><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        	</table>
        	<p>
        		<span class='PP_field_1'></span>, toliau vadinama "Pardavėju" atstovaujama <span class='sellerRepresentative'></span> ir UAB "Agaras",
        		toliau vadinama "Pirkėju", pagal įgaliojimą atstovaujama <span class='PP_field_2'></span>, sudarėme šią sutartį:
        	</p>
        	<ol class="level-1">
        		<li>
        			<span>1. SUTARTIES OBJEKTAS</span>
        			<p>
        				Pardavėjas įsipareigoja patiekti Pirkėjui gyvulius, kurių kokybė atitinka galiojančius standartus, technines sąlygas bei
        				veterinarinius reikalavimus, o Pirkėjas įsipareigoja nupirkti gyvulius ir sumokėti už jų skerdenos svorį pagal bazines
        				skerdienos kainas.
        			</p>
        		</li>
        		<li>
        			<span>2. ŠALIŲ ĮSIPAREIGOJIMAI</span>
        			<ol>
        				<li>
        					<span>2.1. Pardavėjas įsipareigoja:</span>
        					<ol>
        						<li>2.1.1. Sutartu laiku paruošti gyvulius pardavimui laikantis teises aktų, reglamentuojančių gyvulių pirkimo -pardavimo tvarką.</li>
        						<li>2.1.2. Neparduoti gyvulių šertų pašarais ir pašariniais priedais, kurie blogiua skerdenos kokybę.</li>
        						<li>2.1.3. Pateikti tikslius duomenis apie ūkio registravimą, asmens duomenis ir banko sąskaitą.</li>
        						<li>2.1.4. Garantuoti gyvulio amžiaus ir identifikavimo numerio tikslumą.</li>
        					</ol>
        				</li>
        				<li>
        					<span>2.2. Pirkėjas įsipareigoja:</span>
        					<ol>
        						<li>2.2.1. Nupirkti gyvulius laikantis teisės aktų, reglamentuojančių gyvulių pirkimo - pardavimo tvarką, reikalavimų.</li>
        						<li>2.2.2.
        							Mokėti už gyvulius pagal vertintų skerdenų svorius ir kokybę šias bazines (R raumeningumo ir 3 riebumo klasės) kainas:<br />
        							<strong>Bulių</strong><span class='PP_field_3'></span> EUR/kg; <strong>Telyčių</strong><span class='PP_field_4'></span> EUR/kg; <strong>Karvių</strong><span class='PP_field_5'></span> EUR/kg.<br/>
        							Visa galvijų skerdenų kainų lentelė pateikiama priede prie šios gyvulių pirkimo - pardavimo sutarties.
        						</li>
        						<li>2.2.3. Atsiskaityti su Pardavėju mokėjimo pavedimu pervedant pinigus į Pardavėjo nurodytą bankinę sąskaitą per 15 darbo dienų.</li>
        						<li>2.2.4.
        							Pirkdamas gyvulius pagal skerdenų svorį ir kokybę, ne vėliau kaip per 2 darbo dienas po gyvulio paskerdimo ir
        							jo skerdenos įvertinimo, išrašyti PVM sąskaitą - faktūrą ar sąskaitą faktūrą.
        						</li>
        						<li>2.2.5.
        							Galvijus skerdžiant, Pirkėjas patikrina visus kitus galvijų atitikimui keliamus reikalavimus, kurių nebuvo
        							galima patikrinti galvijus priimant ir nustato galvijų skerdenos svorį. Pirkėjas nustatęs neatitikimus per 24 valandas
        							apie tai informuoja Pardavėją, ir ne vėliau kaip kitą dieną po pranešimo gavinio, šalys surašo neatitikimų aktą
        							nurodydami savo pastabas. Pardavėjui nustatytu terminu nepasirašius neatitikimų akto, laikoma, kad Pirkėjo nurodyti
        							neatitikimai yra pagrįsti ir teisingi. Pardavėjas turi teisę per 24 valandas patikrinti neatitikimų faktą.
        						</li>
        						<li>2.2.6.
        							Nustačius 2.2.5 punkte nurodytus neatitikimus, Pirkėjas turi teisę sumažinti neatitinkančių reikalavimų galvijų
        							kainą. Jeigu neatitinkančio reikalavimų paskersto galvijo Pardavėjas nesutinka su Pirkėjo kainos sumažinimu, tai
        							Pirkėjas grąžina Pardavėjui galvijo skerdeną ir už tą galviją nemoka. Tokiu atveju Pardavėjas apmoka Pirkėjui už
        							gyvulio transportavimą ir skerdimą.
        						</li>
        					</ol>
        				</li>
        			</ol>
        		</li>
        		<li>
        			<span>3. ŠALIŲ TURTINĖ ATSAKOMYBĖ</span>
        			<ol>
        				<li>3.1
        					Pardavėjas ir Pirkėjas atleidžiami nuo atsakomybės, jei įsipareigojimų neįvykdė dėl nenugalimos jėgos: karo,
        					stichinės nelaimės, boikotų, streikų, teisėtų ar neteisėtų valstybės valdymo institucijų veiksmų, gyvulių susirgimo,
        					kritimo ir kt., kaip tai numatyta teisės aktuose.
        				</li>
        			</ol>
        		</li>
        		<li>
        			<span>4. KITOS SUTARTIES SĄLYGOS</span>
        			<ol>
        				<li>4.1. Sutartis įsigalioja nuo jos pasirašymo datos ir galioja iki atsiskaitymo su Pardavėju.</li>
        				<li>4.2. Sutartis sudaroma dviem egzemplioriais, turinčiais vienodą juridinę galią, po vieną kiekvienai sutarties šaliai.</li>
        				<li>4.3. Informacija apie skerdienų įvertinimo rezultatus teikiama telefonu 8-450- 59339.</li>
        			</ol>
        		</li>
        		<li><span>5. ŠALIŲ REKVIZITAI:</span></li>
        	</ol>
        	<table class="no-border requisites-table">
        		<tr>
        			<th width="60%">Pardavėjas:</th>
        			<th width="40%">Pirkėjas:</th>
        		</tr>
        		<tr>
        			<td>Vardas, pavardė/įmonė: <span class='PP_field_6'></span></td>
        			<td>UAB "Agaras"</td>
        		</tr>
        		<tr>
        			<td>Asmens/Įmonės kodas: <span class='PP_field_7'></span></td>
        			<td>Balandiškių k. Pabiržės sen. Biržų r. LT-41385</td>
        		</tr>
        		<tr>
        			<td>PVM Kodas: <span class='PP_field_8'></span></td>
        			<td>Įmonės kodas: 154742821</td>
        		</tr>
        		<tr>
        			<td>Paso numeris <span class='PP_field_9'></span> išduotas <span class='PP_field_10'></span></td>
        			<td>Tel. 8-450-59118, faks. 8-450-43112</td>
        		</tr>
        		<tr>
        			<td>Bankas <span class='PP_field_11'></span></td>
        			<td>A/s LT467044060002446386</td>
        		</tr>
        		<tr>
        			<td>A/s <span class='PP_field_12'></span></td>
        			<td>Įmonės atstovas <span class='PP_field_13'></span></td>
        		</tr>
        		<tr>
        			<td>Telefonas, faksas: <span class='PP_field_14'></span> </td>
        			<td></td>
        		</tr>
        		<tr height="50px">
        			<td class="text-center signature">
        				<span>(parašas)</span>
        			</td>
        			<td class="text-center signature">
        				<span>(parašas)</span>
        			</td>
        		</tr>
        	</table>

            <span class='print_PP_stop'></span>
            <span class='newPage'></span>
            <span class='print_PI'></span>

            <table class="no-border table-text-left">
        		<tr height="30px">
        			<td><strong>UAB ,,Agaras", Balandiškių km., Pabiržės sen. Biržų r. LT-41385, Lietuva</strong></td>
        		</tr>
        		<tr>
        			<td><strong>Įm. kodas 154742821</strong></td>
        		</tr>
        	</table>
        	<table class="no-border">
        		<tr height="50px">
        			<td><h1>PINIGŲ IŠMOKĖJIMO KVITAS</h1></td>
        		</tr>
        		<tr height="20px">
        			<td><strong><small>Serija</small> <span class='piSeries'></span> Nr. <span class='piNo'></span></strong></td>
        		</tr>
        		<td height="30px"><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        	</table>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Išmokėti už</td>
                    <td class="dot-line PI_field_1" width="88%">gyvulius<span class='hideIfSFUndefined'> pagal SF: serija <span class='sfSerialSpecial'></span> nr. <span class='sfNoSpecial'></span></span></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>perkamų prekių / paslaugų pavadinimai, kiekiai, matavimo vienetai, vieneto kaina</span></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="dot-line" height="20px"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	 class="text-center text-below"><span>perkamų prekių / paslaugų pavadinimai, kiekiai, matavimo vienetai, vieneto kaina</span></td>
        		</tr>
        		<tr>
        			<td>Išmokėti už</td>
        			<td class="dot-line" width="88%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="dot-line" height="20px"></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Išmokėta suma</td>
        			<td class="dot-line PI_field_6" width="84%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(už perkamas prekes išmokėta suma žodžiais)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td class="dot-line" width="75%"></td>
        			<td class="dot-line PI_field_2" width="10%"></td>
        			<td>Eur</td>
        			<td class="dot-line PI_field_3" width="10%"></td>
        			<td>ct</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Išmokėjau</td>
        			<td class="dot-line PI_field_4" width="90%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(prekes pristačiusio asmens parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Pinigus gavau</td>
        			<td class="dot-line PI_field_5" width="85%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(asmens kodas, paso numeris ir gyvenamoji vieta nebūtina)</span></td>
        		</tr>
        	</table>

            <div class='piSplit'></div>

            <table class="no-border table-text-left">
        		<tr height="30px">
        			<td><strong>UAB ,,Agaras", Balandiškių km., Pabiržės sen. Biržų r. LT-41385, Lietuva</strong></td>
        		</tr>
        		<tr>
        			<td><strong>Įm. kodas 154742821</strong></td>
        		</tr>
        	</table>
        	<table class="no-border">
        		<tr height="50px">
        			<td><h1>PINIGŲ IŠMOKĖJIMO KVITAS</h1></td>
        		</tr>
        		<tr height="20px">
        			<td><strong><small>Serija</small> <span class='piSeries'></span> Nr. <span class='piNo'></span></strong></td>
        		</tr>
        		<td height="30px"><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        	</table>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Išmokėti už</td>
                    <td class="dot-line PI_field_1" width="88%">gyvulius<span class='hideIfSFUndefined'> pagal SF: serija <span class='sfSerialSpecial'></span> nr. <span class='sfNoSpecial'></span></span></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>perkamų prekių / paslaugų pavadinimai, kiekiai, matavimo vienetai, vieneto kaina</span></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="dot-line" height="20px"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	 class="text-center text-below"><span>perkamų prekių / paslaugų pavadinimai, kiekiai, matavimo vienetai, vieneto kaina</span></td>
        		</tr>
        		<tr>
        			<td>Išmokėti už</td>
        			<td class="dot-line" width="88%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="dot-line" height="20px"></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Išmokėta suma</td>
        			<td class="dot-line PI_field_6" width="84%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(už perkamas prekes išmokėta suma žodžiais)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td class="dot-line" width="75%"></td>
        			<td class="dot-line PI_field_2" width="10%"></td>
        			<td>Eur</td>
        			<td class="dot-line PI_field_3" width="10%"></td>
        			<td>ct</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Išmokėjau</td>
        			<td class="dot-line PI_field_4" width="90%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(prekes pristačiusio asmens parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Pinigus gavau</td>
        			<td class="dot-line PI_field_5" width="85%"></td>
        		</tr>
        		<tr>
        			<td colspan="2" class="text-center text-below"><span>(asmens kodas, paso numeris ir gyvenamoji vieta nebūtina)</span></td>
        		</tr>
        	</table>

            <span class='print_PI_stop'></span>
            <span class='newPage'></span>
            <span class='print_KV'></span>

            <table class="no-border">
        		<tr height="50px">
        			<td><h1>KROVINIO VAŽTARAŠTIS</h1></td>
        		</tr>
        		<tr height="20px">
        			<td><strong>Serija </strong><span class='kvSeries'></span> Nr. </strong><span class='kvNo'></span></td>
        		</tr>
        		<tr height="30px">
        			<td><span class='doc_year'></span> m. <span class='doc_month'></span> mėn. <span class='doc_day'></span> d.</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8">
        				Krovinio gavėjas: UAB &quot;Agaras&quot;, Agaro g. 5, Balandiškių k. Pabiržės sen., Biržų r. LT-41385, Lietuva.
        			</td>
        		</tr>
        		<tr>
        			<td class="text-left font-8">Tel. (8-450) 43111, (8-450) 59339, faks. (8-450) 43112 Įmonės kodas 154742821 PVM mokėtojo kodas LT547428219</td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Pardavėjas</td>
        			<td class="solid-line KV_field_1" width="91%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(juridinio asmens pavadinimas arba fizinio asmens vardas, pavardė, adresas, tel., faks., el. pašto adresas)</span></td>
        		</tr>
        		<tr height="20px">
        			<td class="solid-line" colspan="2"></td>
        		</tr>
        	</table>
        	<p>
        	   Gyvuliai priimti pagal gyvulių važtaraštį (kitą dokumentą) Serija <span class='ppSeries'></span> Nr. <span class='ppNo'></span>
        	</p>
        	<p>
        		Pakrovimo data ir laikas: <span class='KV_field_2'></span>
        	</p>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Pakrovimo vieta</td>
        			<td class="solid-line KV_field_3" width="88%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(tikslus krovinio pakrovimo vietos adresas)</span></td>
        		</tr>
        	</table>
        	<p class='KV_field_4'>

        	</p>
        	<p>
        		Gyvulių vežėjo veterinarinio patvirtinimo Nr. 36-09. Kelionės lapo Nr. <span class='KV_field_5'></span>
        	</p>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Krovinio iškrovimo vieta: Balandiškių km., Pabiržės sen., Biržų raj.</td>
        			<td class="solid-line KV_field_6" width="55%"></td>
        		</tr>
        		<tr>
        			<td></td>
        			<td class="text-center text-below"><span>(iškrovimo data ir laikas)</span></td>
        		</tr>
        	</table>
        	<table class="no-outer-border margin-10 hugeTable">
                <thead>
            		<tr>
            			<td>Gyvulio rūšis ir identifikavimo nr.</td>
            			<td>Gyvulio paso serija ir Nr.</td>
            			<td>Lytis</td>
            			<td>Amžius mėn.</td>
            			<td>Galvų skaičius</td>
            			<td>Gyvas svoris, kg</td>
            			<td>Įskaitinis svoris, kg</td>
            		</tr>
                </thead>
                <tbody class='KV_animalsTbody'></tbody>
        	</table>
        	<p>
        		Surašyti 2 važtaraščio egzemplioriai ir perduoti gyvulių laikytojui ir vežėjui. Vežėjo turimas egzempliorius paliekamas paskirties vietoje.
        	</p>
        	<table class="no-border no-collapse table-text-left">
        		<tr>
        			<td>Galvijus pervežti išdavė</td>
        			<td class="solid-line KV_field_7" width="83%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>
        	<table class="no-border no-collapse table-text-left margin-10">
        		<tr>
        			<td>Galvijus pervežti priėmė</td>
        			<td class="solid-line KV_field_8" width="83%"></td>
        		</tr>
        		<tr>
        			<td colspan="2"	class="text-center text-below"><span>(parašas, vardas, pavardė)</span></td>
        		</tr>
        	</table>

            <span class='print_KV_stop'></span>


        </div>
    </div>
</template>

<script>
    import mixins from "../../mixins.js";

    export default {
        mounted: function()
        {
            this.selectDocuments();
        },

        data: function()
        {
            return {
                URLParams: {},
                todaySellers: [],
                totalElementsToPrint: 0,
                docImgs: [],
                pivot: {},
                doc_VG: {
                    animals: []
                },
                doc_SF: {
                    animals: []
                },
                doc_PI: {
                    animals: []
                },
                doc_KV: {
                    animals: []
                },
                doc_PP: {
                    animals: []
                }
            };
        },

        methods:
        {
            parseURLParams: function(url)
            {
                var queryStart = url.indexOf("?") + 1,
                    queryEnd   = url.indexOf("#") + 1 || url.length + 1,
                    query = url.slice(queryStart, queryEnd - 1),
                    pairs = query.replace(/\+/g, " ").split("&"),
                    parms = {}, i, n, v, nv;

                if (query === url || query === "") return;

                for (i = 0; i < pairs.length; i++) {
                    nv = pairs[i].split("=", 2);
                    n = decodeURIComponent(nv[0]);
                    v = decodeURIComponent(nv[1]);

                    if (!parms.hasOwnProperty(n)) parms[n] = [];
                    parms[n].push(nv.length === 2 ? v : null);
                }
                return parms;
            },

            selectDocuments: function()
            {
                var _ = this;

                var docPromises = [];
                var notToPrintDocs = [];

                _.URLParams = _.parseURLParams(window.location.href);

                if(_.URLParams.vg_id) docPromises.push(_.VG_getDocuments());
                else notToPrintDocs.push('VG');

                if(_.URLParams.sf_vat_id) docPromises.push(_.SF_vat_getDocuments());
                else notToPrintDocs.push('SF_vat');

                if(_.URLParams.sf_id) docPromises.push(_.SF_getDocuments());
                else notToPrintDocs.push('SF');

                if(_.URLParams.pp_id) docPromises.push(_.PP_getDocuments());
                else notToPrintDocs.push('PP');

                if(_.URLParams.pi_id) docPromises.push(_.PI_getDocuments());
                else notToPrintDocs.push('PI');

                if(_.URLParams.kv_id) docPromises.push(_.KV_getDocuments());
                else notToPrintDocs.push('KV');

                Promise.all(docPromises).then(() => {
                    _.removeNotPrintableDocs(notToPrintDocs);
                    mixins.getTotalElementsToPrint(_);
                    mixins.snapScreenPrint(_);
                });
            },

            removeNotPrintableDocs: function(notToPrintDocs)
            {
                for(var i = 0; i < notToPrintDocs.length; i++)
                {
                    var targetDoc = notToPrintDocs[i];

                    $(".print_"+targetDoc).prev('.newPage').remove();

                    $(".print_"+targetDoc).nextUntil(".print_"+targetDoc+"_stop").remove();
                    $(".print_"+targetDoc).remove();
                    $(".print_"+targetDoc+"_stop").remove();
                }

                if(notToPrintDocs[0] == 'VG') $(".newPage").first().remove();
            },

            VG_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.vg_id[0]);

                return offlineDB.find('docsPivot', targetId, 'vg_id').then((pivot) => {

                    return offlineDB.find('doc_VG', targetId, 'id').then((doc_VG) => {
                        _.doc_VG = doc_VG;
                        _.pivot = pivot;

                        var p = 1;
                        let totalAnimalsWeight = 0;

                        return offlineDB.get('animals', (cursor) => {
                            if(cursor.value.seller_code == pivot.seller_code)
                            {
                                let sexMapper = {
                                    'Bulius iki 24mėn.': 'A',
                                    'Bulius virš 24mėn': 'B',
                                    'Kastratas': 'C',
                                    'Karvė': 'D',
                                    'Telyčia': 'E',
                                    'Telyčaitė': 'E'
                                };

                                var currAnimal = cursor.value;

                                totalAnimalsWeight += Number(currAnimal.real_weight);
                                var row = $("<tr>");
                                row.append("<td>"+p+"</td>");
                                row.append("<td>"+sexMapper[currAnimal.specie]+"-"+currAnimal.animal_id+"</td>");
                                row.append("<td>"+currAnimal.passport_id+"</td>");
                                row.append("<td>"+currAnimal.specie+"</td>");
                                row.append("<td>"+currAnimal.breed+"</td>");
                                row.append("<td>"+currAnimal.cob+", "+currAnimal.dob+"</td>");
                                row.append("<td>"+currAnimal.pog+"</td>");
                                $(".VG_animalsTbody").append(row);
                                p++;
                            }
                        }).then(() => {
                            _.VG_fillDocumentData();

                            $(".totalAnimalWeight").text(totalAnimalsWeight);
                            $(".totalAnimals").text(--p);
                        });
                    });
                });
            },

            VG_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                $(".kvSeries").text(_.doc_KV.serial);
                $(".kvNo").text(_.doc_KV.no);

                $(".piSeries").text(_.doc_PI.serial);
                $(".piNo").text(_.doc_PI.no);

                $(".ppSeries").text(_.doc_PP.serial);
                $(".ppNo").text(_.doc_PP.no);

                $(".sfSeries").text(_.doc_SF.serial);
                $(".sfNo").text(_.doc_SF.no);

                $(".sfvatSeries").text(_.doc_SF.serial_vat);
                $(".sfvatNo").text(_.doc_SF.no_vat);

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                if(Number(_.pivot.travel_start_hour) < 10) _.pivot.travel_start_hour = '0'+Number(_.pivot.travel_start_hour);
                if(Number(_.pivot.travel_start_minute) < 10) _.pivot.travel_start_minute = '0'+Number(_.pivot.travel_start_minute);

                if(Number(_.pivot.travel_arrive_hour) < 10) _.pivot.travel_arrive_hour = '0'+Number(_.pivot.travel_arrive_hour);
                if(Number(_.pivot.travel_arrive_minute) < 10) _.pivot.travel_arrive_minute = '0'+Number(_.pivot.travel_arrive_minute);

                var VG_field1Arr = [];
                if(_.pivot.seller_name) VG_field1Arr.push(_.pivot.seller_name);
                if(_.pivot.seller_code) VG_field1Arr.push(_.pivot.seller_code);
                if(_.doc_VG.vet_pass_number) VG_field1Arr.push(_.doc_VG.vet_pass_number);
                $(".VG_field_1").text(VG_field1Arr.join(', '));

                var field2Arr = [];
                if(_.pivot.seller_address) field2Arr.push(_.pivot.seller_address);
                if(_.pivot.seller_post_code) field2Arr.push(_.pivot.seller_post_code);
                $(".VG_field_2").text(field2Arr.join(', '));

                if(_.pivot.animal_herd_number) $('.bandNo').text(_.pivot.animal_herd_number);
                if(_.pivot.animal_place_number) $('.heldNo').text(_.pivot.animal_place_number);

                $(".VG_field_4").text(_.pivot.seller_pick_up_address);

                var VG_field5Arr = [];
                if(_.pivot.user_plate) VG_field5Arr.push(_.pivot.user_plate);
                if(_.pivot.user_trailer_plates) VG_field5Arr.push(_.pivot.user_trailer_plates.toUpperCase());
                $(".VG_field_5").text(VG_field5Arr.join(', '));

                $(".VG_field_6").text(_.pivot.travel_duration);

                var addMinutes = (date, minutes) => {
                    return new Date(date.getTime() + minutes*60000);
                }

                now = addMinutes(now, 30);

                var year = now.getFullYear();
                var month = mixins.leftPad(now.getMonth() + 1);
                var day = mixins.leftPad(now.getDate());

                if(!_.pivot.travel_start_date) _.pivot.travel_start_date = year+'-'+month+'-'+day;
                if(!_.pivot.travel_start_hour) _.pivot.travel_start_hour = mixins.leftPad(now.getHours());
                if(!_.pivot.travel_start_minute) _.pivot.travel_start_minute = mixins.leftPad(now.getMinutes());
                $(".VG_field_7").text(_.pivot.travel_start_date+' '+_.pivot.travel_start_hour+":"+_.pivot.travel_start_minute);

                var arriveDateTime = _.pivot.travel_arrive_date;
                if((_.pivot.travel_arrive_date) && (_.pivot.travel_arrive_hour) && (_.pivot.travel_arrive_minute)) arriveDateTime = _.pivot.travel_arrive_date+' '+_.pivot.travel_arrive_hour+":"+_.pivot.travel_arrive_minute;
                if(!arriveDateTime) arriveDateTime = '';
                $(".VG_field_8").text(arriveDateTime);

                $(".VG_field_10").text(_.pivot.seller_representative);
                $(".VG_field_11").text(_.pivot.seller_representative);
                $(".VG_field_12").text(_.pivot.user_name);
            },

            SF_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.sf_id[0]);

                return offlineDB.find('docsPivot', targetId, 'sf_id').then((pivot) => {
                    _.pivot = pivot;

                    var totalAnimalsPriceField = 0;

                    return offlineDB.find('doc_SF', targetId, 'id').then((doc_SF) => {
                        _.doc_SF = doc_SF;

                        return offlineDB.get('animals', (cursor) => {
                            if(cursor.value.seller_code == pivot.seller_code)
                            {
                                var currAnimal = cursor.value;

                                if((currAnimal.inclination == '1') || (currAnimal.inclination == '2') || (currAnimal.inclination == '3'))
                                {
                                    var row = $("<tr>");

                                    var pricePer100Kg = Math.round((parseFloat(currAnimal.includable_weight) * parseFloat(currAnimal.price_kg)) * 100) / 100;
                                    if(isNaN(pricePer100Kg)) pricePer100Kg = 0;
                                    totalAnimalsPriceField += pricePer100Kg;

                                    let sexMapper = {
                                        'Bulius iki 24mėn.': 'A',
                                        'Bulius virš 24mėn': 'B',
                                        'Kastratas': 'C',
                                        'Karvė': 'D',
                                        'Telyčia': 'E',
                                        'Telyčaitė': 'E'
                                    };

                                    row.append("<td>"+sexMapper[currAnimal.specie]+"-"+currAnimal.animal_id+"</td>");
                                    row.append("<td>"+currAnimal.age+"</td>");
                                    row.append("<td>1</td>");
                                    row.append("<td>"+currAnimal.inclination+"</td>");
                                    row.append("<td>"+currAnimal.real_weight+"</td>");
                                    row.append("<td>"+currAnimal.includable_weight+"</td>");
                                    row.append("<td>"+currAnimal.price_kg+"</td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td>"+pricePer100Kg.toFixed(2)+"</td>");
                                    $(".SF_animalsTbody").append(row);
                                }
                            }
                        }).then(() => {
                            var totalPrice = 0;

                            totalAnimalsPriceField = totalAnimalsPriceField.toFixed(2);

                            $('.SF_field_18').text(totalAnimalsPriceField);

                            if((_.pivot.seller_pvm_code) && (_.pivot.seller_pvm_rate == '6'))
                            {
                                var centSide = totalAnimalsPriceField.split('.')[1];

                                $('.SF_field_20').text(((totalAnimalsPriceField * 1.06) - totalAnimalsPriceField).toFixed(2));

                                totalPrice = (totalAnimalsPriceField * 1.06).toFixed(2);
                            }
                            else totalPrice = totalAnimalsPriceField;

                            var priceCt = (totalPrice+'').split('.')[1];
                            if(!priceCt) priceCt = "0";


                            var priceInWords = _.toWords((totalPrice+'').split('.')[0]) + " Eur " + priceCt+" ct";

                            $(".SF_field_13").text(priceInWords);
                            $(".SF_field_14").text(totalPrice);

                            _.SF_fillDocumentData();
                        });
                    });
                });
            },

            SF_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                $(".sfSeries").text(_.doc_SF.serial);
                $(".sfNo").text(_.doc_SF.no);

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                var SF_field1Arr = [];
                if(_.pivot.seller_name) SF_field1Arr.push(_.pivot.seller_name);
                if(_.pivot.seller_address) SF_field1Arr.push(_.pivot.seller_address);
                if(_.pivot.seller_post_code) SF_field1Arr.push(_.pivot.seller_post_code);
                if(_.pivot.seller_phone) SF_field1Arr.push("+3706"+_.pivot.seller_phone);
                if(_.pivot.seller_fax) SF_field1Arr.push(_.pivot.seller_fax);
                if(_.pivot.seller_email) SF_field1Arr.push(_.pivot.seller_email);
                $(".SF_field_1").text(SF_field1Arr.join(', '));

                var SF_field_2 = '______________________________________';
                if(_.pivot.seller_code) SF_field_2 = _.pivot.seller_code;
                $(".SF_field_2").text(SF_field_2);

                var SF_field_3 = '______________________________________';
                if(_.pivot.seller_pvm_code) SF_field_3 = _.pivot.seller_pvm_code;
                $(".SF_field_3").text(SF_field_3);

                var SF_field_4 = '_______________________________________';
                if(_.pivot.seller_pass_series_number) SF_field_4 = _.pivot.seller_pass_series_number;
                $(".SF_field_4").text(SF_field_4);

                var SF_field_5 = '_________________________________________________';
                if(_.pivot.seller_pass_issued_date) SF_field_5 = _.pivot.seller_pass_issued_date;
                $(".SF_field_5").text(SF_field_5);

                var SF_field_6 = '_____________________________';
                if(_.pivot.seller_bank) SF_field_6 = _.pivot.seller_bank;
                $(".SF_field_6").text(SF_field_6);

                var SF_field_7 = '________________________________________';
                if(_.pivot.seller_bank_pay_account_number) SF_field_7 = _.pivot.seller_bank_pay_account_number;
                $(".SF_field_7").text(SF_field_7);

                var SF_field_8 = '_______________';
                if(_.doc_SF.farmer_pass_number) SF_field_8 = _.doc_SF.farmer_pass_number;
                $(".SF_field_8").text(SF_field_8);

                var SF_field_9 = '___________________________________';
                if(_.pivot.user_name) SF_field_9 = _.pivot.user_name;
                $(".SF_field_9").text(SF_field_9);

                var SF_field_10 = '_________________';
                if(_.pivot.user_plate) SF_field_10 = _.pivot.user_plate;
                $(".SF_field_10").text(SF_field_10);

                var SF_field_11 = '__________________________________________________________________';
                if(_.pivot.seller_pick_up_address) SF_field_11 = _.pivot.seller_pick_up_address;
                $(".SF_field_11").text(SF_field_11);

                $('.SF_field_15').text('+3706'+_.pivot.seller_phone);

                var year = now.getFullYear();
                var month = mixins.leftPad(now.getMonth() + 1);
                var day = mixins.leftPad(now.getDate());

                var field_12 = year+'-'+month+'-'+day;
                if(_.pivot.travel_start_date) field_12 = _.pivot.travel_start_date;
                $(".SF_field_12").text(field_12);

                var SF_field16Arr = [];
                if(_.pivot.seller_name) SF_field16Arr.push(_.pivot.user_name);
                if(_.pivot.seller_address) SF_field16Arr.push(_.pivot.user_position);
                $(".SF_field_16").text(SF_field16Arr.join(', '));

                var SF_field17Arr = [];
                if(_.pivot.seller_name) SF_field17Arr.push(_.pivot.seller_representative);
                $(".SF_field_17").text(SF_field17Arr.join(', '));
            },

            SF_vat_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.sf_vat_id[0]);

                return offlineDB.find('docsPivot', targetId, 'sf_id').then((pivot) => {
                    _.pivot = pivot;

                    var totalAnimalsPriceField = 0;

                    return offlineDB.find('doc_SF', targetId, 'id').then((doc_SF) => {
                        _.doc_SF = doc_SF;

                        return offlineDB.get('animals', (cursor) => {
                            if(cursor.value.seller_code == pivot.seller_code)
                            {
                                var currAnimal = cursor.value;

                                if((currAnimal.inclination == '1') || (currAnimal.inclination == '2') || (currAnimal.inclination == '3'))
                                {
                                    var row = $("<tr>");

                                    var pricePer100Kg = Math.round((parseFloat(currAnimal.includable_weight) * parseFloat(currAnimal.price_kg)) * 100) / 100;
                                    if(isNaN(pricePer100Kg)) pricePer100Kg = 0;
                                    totalAnimalsPriceField += pricePer100Kg;

                                    let sexMapper = {
                                        'Bulius iki 24mėn.': 'A',
                                        'Bulius virš 24mėn': 'B',
                                        'Kastratas': 'C',
                                        'Karvė': 'D',
                                        'Telyčia': 'E',
                                        'Telyčaitė': 'E'
                                    };

                                    row.append("<td>"+sexMapper[currAnimal.specie]+"-"+currAnimal.animal_id+"</td>");
                                    row.append("<td>"+currAnimal.age+"</td>");
                                    row.append("<td>1</td>");
                                    row.append("<td>"+currAnimal.inclination+"</td>");
                                    row.append("<td>"+currAnimal.real_weight+"</td>");
                                    row.append("<td>"+currAnimal.includable_weight+"</td>");
                                    row.append("<td>"+currAnimal.price_kg+"</td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td></td>");
                                    row.append("<td>"+pricePer100Kg.toFixed(2)+"</td>");
                                    $(".SF_vat_animalsTbody").append(row);
                                }
                            }
                        }).then(() => {
                            var totalPrice = 0;

                            totalAnimalsPriceField = totalAnimalsPriceField.toFixed(2);

                            $('.SF_vat_field_18').text(totalAnimalsPriceField);

                            if(_.pivot.seller_pvm_rate == '21')
                            {
                                var centSide = totalAnimalsPriceField.split('.')[1];

                                $('.SF_vat_field_19').text(((totalAnimalsPriceField * 1.21) - totalAnimalsPriceField).toFixed(2));

                                totalPrice = (totalAnimalsPriceField * 1.21).toFixed(2);
                            }
                            else if(_.pivot.seller_pvm_rate == '6')
                            {
                                var centSide = totalAnimalsPriceField.split('.')[1];

                                $('.SF_vat_field_20').text(((totalAnimalsPriceField * 1.06) - totalAnimalsPriceField).toFixed(2));

                                totalPrice = (totalAnimalsPriceField * 1.06).toFixed(2);
                            }
                            else totalPrice = totalAnimalsPriceField;

                            var priceCt = (totalPrice+'').split('.')[1];
                            if(!priceCt) priceCt = "0";

                            var priceInWords = _.toWords((totalPrice+'').split('.')[0]) + " Eur " + priceCt+" ct";

                            $(".SF_vat_field_21").text(priceInWords);
                            $(".SF_vat_field_22").text(totalPrice);

                            _.SF_vat_fillDocumentData();
                        });
                    });
                });
            },

            SF_vat_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                $(".sfvatSeries").text(_.doc_SF.serial_vat);
                $(".sfvatNo").text(_.doc_SF.no_vat);

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                var SF_vat_field1Arr = [];
                if(_.pivot.seller_name) SF_vat_field1Arr.push(_.pivot.seller_name);
                if(_.pivot.seller_address) SF_vat_field1Arr.push(_.pivot.seller_address);
                if(_.pivot.seller_post_code) SF_vat_field1Arr.push(_.pivot.seller_post_code);
                if(_.pivot.seller_phone) SF_vat_field1Arr.push("+3706"+_.pivot.seller_phone);
                if(_.pivot.seller_fax) SF_vat_field1Arr.push(_.pivot.seller_fax);
                if(_.pivot.seller_email) SF_vat_field1Arr.push(_.pivot.seller_email);
                $(".SF_vat_field_1").text(SF_vat_field1Arr.join(', '));

                var SF_vat_field_2 = '______________________________________';
                if(_.pivot.seller_code) SF_vat_field_2 = _.pivot.seller_code;
                $(".SF_vat_field_2").text(SF_vat_field_2);

                var SF_vat_field_3 = '______________________________________';
                if(_.pivot.seller_pvm_code) SF_vat_field_3 = _.pivot.seller_pvm_code;
                $(".SF_vat_field_3").text(SF_vat_field_3);

                var SF_vat_field_4 = '_______________________________________';
                if(_.pivot.seller_pass_series_number) SF_vat_field_4 = _.pivot.seller_pass_series_number;
                $(".SF_vat_field_4").text(SF_vat_field_4);

                var SF_vat_field_5 = '_________________________________________________';
                if(_.pivot.seller_pass_issued_date) SF_vat_field_5 = _.pivot.seller_pass_issued_date;
                $(".SF_vat_field_5").text(SF_vat_field_5);

                var SF_vat_field_6 = '_____________________________';
                if(_.pivot.seller_bank) SF_vat_field_6 = _.pivot.seller_bank;
                $(".SF_vat_field_6").text(SF_vat_field_6);

                var SF_vat_field_7 = '________________________________________';
                if(_.pivot.seller_bank_pay_account_number) SF_vat_field_7 = _.pivot.seller_bank_pay_account_number;
                $(".SF_vat_field_7").text(SF_vat_field_7);

                var SF_vat_field_8 = '_______________';
                if(_.doc_SF.farmer_pass_number) SF_vat_field_8 = _.doc_SF.farmer_pass_number;
                $(".SF_vat_field_8").text(SF_vat_field_8);

                var SF_vat_field_9 = '___________________________________';
                if(_.pivot.user_name) SF_vat_field_9 = _.pivot.user_name;
                $(".SF_vat_field_9").text(SF_vat_field_9);

                var SF_vat_field_10 = '_________________';
                if(_.pivot.user_plate) SF_vat_field_10 = _.pivot.user_plate;
                $(".SF_vat_field_10").text(SF_vat_field_10);

                var SF_vat_field_11 = '__________________________________________________________________';
                if(_.pivot.seller_pick_up_address) SF_vat_field_11 = _.pivot.seller_pick_up_address;
                $(".SF_vat_field_11").text(SF_vat_field_11);

                var year = now.getFullYear();
                var month = mixins.leftPad(now.getMonth() + 1);
                var day = mixins.leftPad(now.getDate());

                var field_12 = year+'-'+month+'-'+day;
                if(_.pivot.travel_start_date) field_12 = _.pivot.travel_start_date;
                $(".SF_vat_field_12").text(field_12);

                $('.SF_vat_field_15').text('+3706'+_.pivot.seller_phone);

                var SF_vat_field16Arr = [];
                if(_.pivot.seller_name) SF_vat_field16Arr.push(_.pivot.user_name);
                if(_.pivot.seller_address) SF_vat_field16Arr.push(_.pivot.user_position);
                $(".SF_vat_field_16").text(SF_vat_field16Arr.join(', '));

                var SF_vat_field17Arr = [];
                if(_.pivot.seller_name) SF_vat_field17Arr.push(_.pivot.seller_representative);
                $(".SF_vat_field_17").text(SF_vat_field17Arr.join(', '));
            },

            PP_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.pp_id[0]);

                return offlineDB.find('docsPivot', targetId, 'pp_id').then((pivot) => {
                    _.pivot = pivot;

                    var p = 1;

                    return offlineDB.find('doc_PP', targetId, 'id').then((doc_PP) => {
                        _.doc_PP = doc_PP;

                        _.PP_fillDocumentData();
                    });
                });
            },

            PP_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                $(".ppSeries").text(_.doc_PP.serial);
                $(".ppNo").text(_.doc_PP.no);

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                var sellerRepresentative = '________________________________________';
                if(_.pivot.seller_representative) sellerRepresentative = _.pivot.seller_representative;
                $(".sellerRepresentative").text(sellerRepresentative)

                var field_1 = "_______________________________________________";
                if(_.pivot.seller_name) field_1 = _.pivot.seller_name;
                $(".PP_field_1").text(field_1);

                var field_2 = "_______________________________________________";
                if(_.pivot.user_name) field_2 = _.pivot.user_name
                $(".PP_field_2").text(field_2);

                var field_3 = "_____________";
                if(_.doc_PP.bull_price) field_3 = _.doc_PP.bull_price
                $(".PP_field_3").text(field_3);

                var field_4 = "_____________";
                if(_.doc_PP.heifer_price) field_4 = _.doc_PP.heifer_price
                $(".PP_field_4").text(field_4);

                var field_5 = "_____________";
                if(_.doc_PP.cow_price) field_5 = _.doc_PP.cow_price
                $(".PP_field_5").text(field_5);

                $(".PP_field_6").text(_.pivot.seller_name);
                $(".PP_field_7").text(_.pivot.seller_code);

                if(_.pivot.seller_pvm_code) $(".PP_field_8").text(_.pivot.seller_pvm_code);
                else $(".PP_field_8").text("Ne PVM mokėtojas");

                var field_9 = '___________';
                if(_.pivot.seller_pass_series_number) field_9 = _.pivot.seller_pass_series_number;
                $(".PP_field_9").text(field_9);

                var field_10 = '_____________';
                if(_.pivot.seller_pass_issued_date) field_10 = _.pivot.seller_pass_issued_date;
                $(".PP_field_10").text(field_10);

                var field_11 = '_________________________________________';
                if(_.pivot.seller_bank) field_11 = _.pivot.seller_bank;
                $(".PP_field_11").text(field_11);

                var field_12 = '_____________________________________________';
                if(_.pivot.seller_bank_pay_account_number) field_12 = _.pivot.seller_bank_pay_account_number;
                $(".PP_field_12").text(field_12);

                var field_13 = '_________________________________';
                if(_.pivot.user_name) field_13 = _.pivot.user_name;
                $(".PP_field_13").text(field_13);

                var field14Arr = [];
                if(_.pivot.seller_phone) field14Arr.push("+3706"+_.pivot.seller_phone);
                if(_.pivot.seller_fax) field14Arr.push(_.pivot.seller_fax);
                $(".PP_field_14").text(field14Arr.join(', '));
            },

            PI_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.pi_id[0]);

                return offlineDB.find('docsPivot', targetId, 'pi_id').then((pivot) => {
                    _.pivot = pivot;

                    var p = 1;

                    if(pivot.sf_id)
                    {
                        return offlineDB.find('doc_SF', pivot.sf_id, 'id').then((doc_SF) => {
                            return offlineDB.find('doc_PI', targetId, 'id').then((doc_PI) => {
                                _.doc_PI = doc_PI;
                                _.doc_SF = doc_SF;

                                _.PI_fillDocumentData();
                            });
                        });
                    }
                    else
                    {
                        return offlineDB.find('doc_PI', targetId, 'id').then((doc_PI) => {
                            _.doc_PI = doc_PI;

                            _.PI_fillDocumentData();
                        });
                    }
                });
            },

            PI_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                _.doc_PI.centsAmount = _.doc_PI.centsAmount;

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                $(".doc_year").text(now.getFullYear());
                $(".doc_month").text(mixins.leftPad(now.getMonth() + 1));
                $(".doc_day").text(mixins.leftPad(now.getDate()));

                if(_.doc_PI.centsAmount < 10) _.doc_PI.centsAmount = '0'+ _.doc_PI.centsAmount;

                var priceInWords = _.toWords(_.doc_PI.euroAmount) + " Eur " +_.doc_PI.centsAmount+" ct";

                $(".PI_field_6").text(priceInWords);
                $(".PI_field_2").text(_.doc_PI.euroAmount);
                $(".PI_field_3").text(_.doc_PI.centsAmount);

                var sfSerial = "";
                var sfNo = "";

                if((_.doc_SF) && (_.pivot.seller_pvm_code))
                {
                    sfSerial = _.doc_SF.serial_vat;
                    sfNo =_.doc_SF.no_vat
                }
                else if(_.doc_SF)
                {
                    sfSerial = _.doc_SF.serial;
                    sfNo =_.doc_SF.no
                }

                $(".piSeries").text(_.doc_PI.serial);
                $(".piNo").text(_.doc_PI.no);

                $(".sfNoSpecial").text(sfNo);
                $(".sfSerialSpecial").text(sfSerial);

                if((!sfSerial) && (!sfNo)) $('.hideIfSFUndefined').hide();

                $(".PI_field_1").text(_.doc_PI.paid_for);

                $(".PI_field_2").text(_.doc_PI.paid_sum_eur);
                $(".PI_field_3").text(_.doc_PI.paid_sum_ct);

                $(".PI_field_4").text(_.pivot.user_name);

                var field5Arr = [];
                if(_.pivot.seller_representative) $(".PI_field_5").text(_.pivot.seller_representative);
            },

            KV_getDocuments: function()
            {
                var _ = this;
                var targetId = Number(_.URLParams.kv_id[0]);

                return offlineDB.find('docsPivot', targetId, 'kv_id').then((pivot) => {
                    _.pivot = pivot;

                    var p = 1;

                    if(pivot.pp_id)
                    {
                        return offlineDB.find('doc_PP', pivot.pp_id, 'id').then((doc_PP) => {
                            return offlineDB.find('doc_KV', targetId, 'id').then((doc_KV) => {
                                _.doc_KV = doc_KV;
                                _.doc_PP = doc_PP;

                                return offlineDB.get('animals', (cursor) => {
                                    if(cursor.value.seller_code == pivot.seller_code)
                                    {
                                        if(cursor.value.inclination == '0')
                                        {
                                            var currAnimal = cursor.value;

                                            let sexMapper = {
                                                'Bulius iki 24mėn.': 'A',
                                                'Bulius virš 24mėn': 'B',
                                                'Kastratas': 'C',
                                                'Karvė': 'D',
                                                'Telyčia': 'E',
                                                'Telyčaitė': 'E'
                                            };

                                            var row = $("<tr>");
                                            row.append("<td>"+sexMapper[currAnimal.specie]+"-"+currAnimal.animal_id+"</td>");
                                            row.append("<td>"+currAnimal.passport_id+"</td>");
                                            row.append("<td>"+currAnimal.specie+"</td>");
                                            row.append("<td>"+currAnimal.age+"</td>");
                                            row.append("<td>1</td>");
                                            row.append("<td>"+currAnimal.real_weight+"</td>");
                                            row.append("<td>"+currAnimal.includable_weight+"</td>");
                                            $(".KV_animalsTbody").append(row);
                                            p++;
                                        }
                                    }
                                }).then(() => {
                                    _.KV_fillDocumentData();
                                });
                            });
                        });
                    }
                    else
                    {
                        return offlineDB.find('doc_KV', targetId, 'id').then((doc_KV) => {
                            _.doc_KV = doc_KV;

                            return offlineDB.get('animals', (cursor) => {
                                if(cursor.value.seller_code == pivot.seller_code)
                                {
                                    if(cursor.value.inclination == '0')
                                    {
                                        var currAnimal = cursor.value;

                                        let sexMapper = {
                                            'Bulius iki 24mėn.': 'A',
                                            'Bulius virš 24mėn': 'B',
                                            'Kastratas': 'C',
                                            'Karvė': 'D',
                                            'Telyčia': 'E',
                                            'Telyčaitė': 'E'
                                        };

                                        var row = $("<tr>");
                                        row.append("<td>"+sexMapper[currAnimal.specie]+"-"+currAnimal.animal_id+"</td>");
                                        row.append("<td>"+currAnimal.passport_id+"</td>");
                                        row.append("<td>"+currAnimal.specie+"</td>");
                                        row.append("<td>"+currAnimal.age+"</td>");
                                        row.append("<td>1</td>");
                                        row.append("<td>"+currAnimal.real_weight+"</td>");
                                        row.append("<td>"+currAnimal.includable_weight+"</td>");
                                        $(".KV_animalsTbody").append(row);
                                        p++;
                                    }
                                }
                            }).then(() => {
                                _.KV_fillDocumentData();
                            });
                        });
                    }
                });
            },

            KV_fillDocumentData: function()
            {
                var _ = this;
                var now = new Date();

                var thisYear = now.getFullYear();
                var thisMonth = mixins.leftPad(now.getMonth() + 1);
                var thisDay = mixins.leftPad(now.getDate());
                var thisHour = mixins.leftPad(now.getHours());
                var thisMinute = mixins.leftPad(now.getMinutes());

                $(".kvSeries").text(_.doc_KV.serial);
                $(".kvNo").text(_.doc_KV.no);
                $(".ppSeries").text(_.doc_PP.serial);
                $(".ppNo").text(_.doc_PP.no);

                $(".doc_year").text(thisYear);
                $(".doc_month").text(thisMonth);
                $(".doc_day").text(thisDay);

                if(Number(_.pivot.travel_start_hour) < 10) _.pivot.travel_start_hour = '0'+Number(_.pivot.travel_start_hour);
                if(Number(_.pivot.travel_start_minute) < 10) _.pivot.travel_start_minute = '0'+Number(_.pivot.travel_start_minute);

                if(Number(_.pivot.travel_arrive_hour) < 10) _.pivot.travel_arrive_hour = '0'+Number(_.pivot.travel_arrive_hour);
                if(Number(_.pivot.travel_arrive_minute) < 10) _.pivot.travel_arrive_minute = '0'+Number(_.pivot.travel_arrive_minute);

                _.pivot.seller_name = mixins.capitalizeFirstChar(_.pivot.seller_name);
                _.pivot.user_name = mixins.capitalizeFirstChar(_.pivot.user_name);
                _.pivot.seller_representative = mixins.capitalizeFirstChar(_.pivot.seller_representative);

                var field1Arr = [];
                if(_.pivot.seller_name) field1Arr.push(_.pivot.seller_name);
                if(_.pivot.seller_address) field1Arr.push(_.pivot.seller_address);
                if(_.pivot.seller_post_code) field1Arr.push(_.pivot.seller_post_code);
                if(_.pivot.seller_phone) field1Arr.push('+3706'+_.pivot.seller_phone);
                if(_.pivot.seller_fax) field1Arr.push(_.pivot.seller_fax);
                if(_.pivot.seller_email) field1Arr.push(_.pivot.seller_email);
                $(".KV_field_1").text(field1Arr.join(', '));

                if(_.pivot.travel_start_date) $('.KV_field_2').text(_.pivot.travel_start_date + " "+_.pivot.travel_start_hour+":"+ _.pivot.travel_start_minute);
                else $('.KV_field_2').text(thisYear+'-'+thisMonth+'-'+thisDay+" "+thisHour+":"+thisMinute);

                $('.KV_field_3').text(_.pivot.seller_pick_up_address);

                var field_4 = "Vairuotojas ";
                if(_.pivot.user_name) field_4 += _.pivot.user_name;
                else field_4 += "______________________________________________________";
                field_4 += " Automobilio Nr. ";
                if(_.pivot.user_plate) field_4 += _.pivot.user_plate;
                else field_4 += "______________________________";
                $('.KV_field_4').text(field_4);

                var field_5 = "___________________________________________";
                if(_.doc_KV.user_travel_paper_number) field_5 += _.doc_KV.user_travel_paper_number;
                $('.KV_field_5').text(field_5);

                $(".KV_field_6").text(_.pivot.travel_arrive_date + ' ' + _.pivot.travel_arrive_hour + ':' + _.pivot.travel_arrive_minute);
                $(".KV_field_7").text(_.pivot.seller_representative);
                $(".KV_field_8").text(_.pivot.user_name);
            },

            toWords: function(n, isCents, custom_join_character) {
                var string = n.toString(),
                    units, tens, scales, start, end, chunks, chunksLen, chunk, ints, i, word, words, currency;

                var and = custom_join_character || '';

                /* Is number zero? */
                if (parseInt(string) === 0) {
                    return 'Nulis';
                }

                currency = ['', '', ''];

                /* Array of units as words */
                units = ['', 'vienas', 'du', 'trys', 'keturi', 'penki', 'šeši', 'septyni',
                    'aštuoni', 'devyni', 'dešimt', 'vienuolika', 'dvylika', 'trylika', 'keturiolika',
                    'penkiolika', 'šešiolika', 'septyniolika', 'aštuoniolika', 'devyniolika'];

                /* Array of tens as words */
                tens = ['', '', 'dvidešimt', 'trisdešimt', 'keturiasdešimt', 'penkiasdešimt',
                    'šešiasdešimt', 'septyniasdešimt', 'aštuoniasdešimt', 'devyniasdešimt'];

                /* Array of scales as words */
                scales = ['', 'tūkstantis'];

                /* Split user arguemnt into 3 digit chunks from right to left */
                start = string.length;
                chunks = [];
                while (start > 0) {
                    end = start;
                    chunks.push(string.slice((start = Math.max(0, start - 3)), end));
                }

                /* Check if function has enough scale words to be able to stringify the user argument */
                chunksLen = chunks.length;
                if (chunksLen > scales.length) return '';

                /* Stringify each integer in each chunk */
                words = [];
                for (i = 0; i < chunksLen; i++) {
                    chunk = parseInt(chunks[i]);

                    if (chunk) {
                        /* Split chunk into array of individual integers */
                        ints = chunks[i].split('').reverse().map(parseFloat);

                        /* If tens integer is 1, i.e. 10, then add 10 to units integer */
                        if (ints[1] === 1) ints[0] += 10;

                        /* Add scale word if chunk is not zero and array item exists */
                        if ((word = scales[i]))
                        {
                            if((chunk % 10 == 0) || ((chunk >= 10) && (chunk <= 20))) words.push('tūkstančių');
                            else if(chunk % 10 == 1) words.push('tūkstantis');
                            else words.push('tūkstančiai');
                        }

                        /* Add unit word if array item exists */
                        if ((word = units[ints[0]]))
                        {
                            if(chunk == Number(chunks[0]))
                            {
                                if((chunk % 10 == 0) || ((chunk >= 10) && (chunk <= 20))) word += currency[0];
                                else if(chunk % 10 == 1) word += currency[1];
                                else word += currency[2];
                            }

                            words.push(word);
                        }

                        /* Add tens word if array item exists */
                        if ((word = tens[ints[1]])) words.push(word);

                        /* Add 'and' string after units or tens integer if: */
                        if (ints[0] || ints[1]) {
                            /* Chunk has a hundreds integer or chunk is the first of multiple chunks */
                            if (ints[2] || !i && chunksLen) words.push(and);
                        }

                        /* Add hundreds word if array item exists */
                        if ((word = units[ints[2]])) {
                            if(chunk > 199) words.push(word + ' šimtai');
                            else words.push(word + ' šimtas');
                        }
                    }
                }

                return words.reverse().join(' ').replace('  ', ' ');
            }
        }
    }
</script>
